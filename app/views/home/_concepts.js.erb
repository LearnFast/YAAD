<script type='text/javascript'>
$(document).ready(function() {
    $('.manage-page').hide();

    $('.show-answer-button').click(function(event) {
        event.preventDefault();
        $(this).parent().parent().children('.answer').show();
        $(this).attr('disabled', true);
    });

    $('.concept-card').first().show();

    var current_position = 0;
    var total_count = <%= @concepts_to_learn.present? ? @concepts_to_learn.size : 0 %>;

    $('.concept-next-button').click(function() {
        $('*[data-position="' + current_position + '"]').hide(); 
        if(current_position < total_count -1) {
            current_position += 1;
        }
        else {
            current_position = 0;
        }
        $('.current-position').html(current_position+1);
        $('*[data-position="' + current_position + '"]').show(); 
    });

    $('.delete-concept').unbind().click(function(e) {
        e.preventDefault();
        $.ajax({
            type: "DELETE",
            url: "/concepts/"+$(this).parent().data('id'),
            data: "authenticity_token="+AUTH_TOKEN
        })
        $(this).parent().hide("slow", function(){ $(this).remove(); })
    });
});
</script>
